<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import org.kordamp.ikonli.javafx.FontIcon?>
<?import java.net.URL?>
<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<BorderPane xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.mind.vault.controller.IndexView">
    <stylesheets>
        <URL value="@/resources/styles.css"/>
    </stylesheets>
    <!-- 顶部菜单栏 -->
    <top>
        <MenuBar>
            <Menu text="文件">
                <MenuItem text="新建"/>
                <MenuItem text="打开"/>
                <MenuItem text="保存"/>
                <SeparatorMenuItem/>
                <MenuItem onAction="#exit" text="退出"/>
            </Menu>
            <Menu text="编辑">
                <MenuItem text="撤销"/>
                <MenuItem text="重做"/>
                <SeparatorMenuItem/>
                <MenuItem text="剪切"/>
                <MenuItem text="复制"/>
                <MenuItem text="粘贴"/>
            </Menu>
            <Menu text="视图">
                <MenuItem fx:id="leftPanelToggle" text="左侧面板"/>
                <MenuItem fx:id="rightPanelToggle" text="右侧面板"/>
            </Menu>
            <Menu text="帮助">
                <MenuItem text="关于"/>
            </Menu>
        </MenuBar>
    </top>

    <!-- 中间主区域 -->
    <center>
        <SplitPane fx:id="mainArea" dividerPositions="0.2, 0.7">
            <!-- 左侧目录树区域 -->
            <VBox fx:id="leftDirectory" minWidth="150">
                <HBox fx:id="leftDirectoryTop" minHeight="25.0" prefHeight="8.0" prefWidth="205.0">
                    <Label minWidth="36.0" style="-fx-font-weight: bold; -fx-padding: 5;" text="目录"
                           HBox.hgrow="NEVER"/>
                    <TextField maxHeight="20.0" minHeight="20.0" minWidth="80.0" prefHeight="20.0" prefWidth="150.0"
                               HBox.hgrow="SOMETIMES">
                        <HBox.margin>
                            <Insets top="2.0"/>
                        </HBox.margin>
                    </TextField>
                    <Button layoutX="10.0" layoutY="10.0"
                            style="-fx-background-color: transparent; -fx-border-width: 0;"
                            onAction="#minimizeLeftDirectory">
                        <graphic>
                            <FontIcon iconLiteral="fa-minus" iconColor="gray"/>
                        </graphic>
                    </Button>
                </HBox>
                <TreeView fx:id="directoryTree" VBox.vgrow="ALWAYS">
                    <TreeItem expanded="true" value="根目录">
                        <children>
                            <TreeItem value="文件夹1"/>
                            <TreeItem value="文件夹2"/>
                            <TreeItem value="文件1.txt"/>
                        </children>
                    </TreeItem>
                </TreeView>
            </VBox>

            <!-- 中间对话框区域 -->
            <VBox fx:id="centerPanel">
                <HBox alignment="CENTER_LEFT">
                    <Label style="-fx-font-weight: bold;" text="智能会话"/>
                    <Button styleClass="add-session-button">
                        <graphic>
                            <FontIcon iconLiteral="fa-plus-circle" iconColor="gray"/>
                        </graphic>
                    </Button>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button styleClass="add-session-button">
                        <graphic>
                            <FontIcon iconLiteral="fa-history" iconColor="gray"/>
                        </graphic>
                    </Button>
                    <Separator orientation="VERTICAL"/>
                    <ComboBox promptText="模型" style="-fx-font-size: 10px; -fx-font-weight: bold" maxHeight="20" minHeight="20">
                        <items>
                            <FXCollections fx:factory="observableArrayList">
                                <String fx:value="GPT-4"/>
                                <String fx:value="Claude"/>
                                <String fx:value="Gemini"/>
                                <String fx:value="通义千问"/>
                            </FXCollections>
                        </items>
                    </ComboBox>

                </HBox>

                <TextArea promptText="在这里输入内容..." VBox.vgrow="ALWAYS"/>
                <HBox spacing="5" style="-fx-padding: 5 0;">
                    <Button onAction="#send" text="发送"/>
                    <Button text="清除"/>
                </HBox>
            </VBox>

            <!-- 右侧内容区域 -->
            <VBox fx:id="rightPreview" minWidth="200">
                <HBox fx:id="rightPreviewTop" minHeight="25.0" prefHeight="8.0" prefWidth="205.0">
                    <children>
                        <Label minWidth="36.0" style="-fx-font-weight: bold; -fx-padding: 5;" text="预览"
                               HBox.hgrow="NEVER"/>
                        <TextField maxHeight="20.0" minHeight="20.0" minWidth="80.0" prefHeight="20.0" prefWidth="149.0"
                                   HBox.hgrow="SOMETIMES">
                            <HBox.margin>
                                <Insets top="2.0"/>
                            </HBox.margin>
                        </TextField>
                        <Button layoutX="10.0" layoutY="10.0"
                                style="-fx-background-color: transparent; -fx-border-width: 0;"
                                onAction="#minimizeRightPreview">
                            <graphic>
                                <FontIcon iconLiteral="fa-minus" iconColor="gray"/>
                            </graphic>
                        </Button>
                    </children>
                </HBox>
                <TableView fx:id="contentTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn text="名称"/>
                        <TableColumn text="大小"/>
                        <TableColumn text="修改日期"/>
                    </columns>
                </TableView>
            </VBox>
        </SplitPane>
    </center>

    <!-- 底部状态栏 -->
    <bottom>
        <HBox style="-fx-background-color: #e0e0e0; -fx-padding: 3;">
            <Label style="-fx-font-size: 12;" text="就绪"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Label style="-fx-font-size: 12; -fx-padding: 0 5;" text="行: 1 列: 1"/>
        </HBox>
    </bottom>
    <left>
        <!-- 左侧状态栏 -->
        <HBox fx:id="leftStatusBar" prefHeight="452.0" prefWidth="10.0" maxWidth="10"
              style="-fx-background-color: #f0f0f0;" BorderPane.alignment="CENTER">
            <Button fx:id="leftToggleBtn" style="-fx-background-color: transparent; -fx-border-width: 0;"
                    onAction="#restoreLeftDirectory">
                <graphic>
                    <FontIcon fx:id="restoreLeftDirectoryIcon" visible="false" iconLiteral="fa-window-restore"
                              iconSize="6" iconColor="gray"/>
                </graphic>
            </Button>
        </HBox>
    </left>
    <right>
        <!-- 右侧状态栏 -->
        <HBox fx:id="rightStatusBar" prefHeight="452.0" prefWidth="10.0" maxWidth="10"
              style="-fx-background-color: #f0f0f0;" BorderPane.alignment="CENTER">
            <Button fx:id="rightToggleBtn" style="-fx-background-color: transparent; -fx-border-width: 0;"
                    onAction="#restoreRightPreview">
                <graphic>
                    <FontIcon fx:id="restoreRightPreviewIcon" visible="false" iconLiteral="fa-window-restore"
                              iconSize="6" iconColor="gray"/>
                </graphic>
            </Button>
        </HBox>
    </right>
</BorderPane>
